#pragma hdrstop

#include "Queue.h"


Queue :: ~Queue()
{
	while(Head)
	{
		Tail = Head->Next;
		delete Head;
		Head = Tail;
    }
}

void Queue :: Show(TListBox *ListBox1)
{
	Node *temp;
	temp = Head;
	while (temp != NULL)
	{
		ListBox1->Items->Add(temp->x);   //вывод в ListBox1
		temp = temp->Next;
    }
}

void Queue :: Add(int x)
{
	Node *temp = new Node;
	temp->Next = NULL;
	temp->x = x;
	if (Head != NULL)         //если список не пустой
	{
		temp->Prev = Tail;
		Tail->Next = temp;
		Tail = temp;
	}
	else                      //если список пустой
	{
		temp->Prev = NULL;    //новый элемент первый
		Head = Tail = temp;   //(одновременно голова и хвост очереди)
    }
}

void Queue :: Delete(TEdit *Edit1)
{
	if (Head == NULL)        //если список пустой
	{
		Application->Title = "Внимание";
		ShowMessage("Очередь пуста");
	}
	else                     //если список не пустой
	{
		Node *temp;
		temp = Head->Next;
		delete Head;         //удалить первый элемент
		Head = temp;         //вернуть указатель на новый первый элемент
        Edit1->Text = IntToStr(StrToInt(Edit1->Text) - 1);
    }
}

void Queue :: IsEmpty(TEdit *Edit1)
{
	Application->Title = "Is empty?";
	if (Head != NULL)
	{
		ShowMessage("В очереди элементов: " + (Edit1->Text));
	}
	else
		ShowMessage("Очередь пуста");
}

#pragma package(smart_init)
